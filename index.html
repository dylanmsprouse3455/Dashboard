<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Daily Command Center</title>

<style>
*,*::before,*::after{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  background:#f8fafc;
  color:#0f172a;
  max-width:430px;
  margin:auto;
  padding:18px;
}

h1{text-align:center;font-size:20px}

.card{
  background:#fff;
  border-radius:18px;
  padding:16px;
  box-shadow:0 12px 28px rgba(15,23,42,0.08);
  margin-bottom:14px;
}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  font-size:15px;
  font-weight:650;
  cursor:pointer;
  background:#3b82f6;
  color:white;
  margin-top:10px;
}

button.secondary{
  background:#e2e8f0;
  color:#0f172a;
}

input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #cbd5e1;
  margin-top:8px;
}

.hidden{display:none}

.big{
  font-size:22px;
  font-weight:800;
  text-align:center;
  margin-top:10px;
}

.tiny{
  font-size:12px;
  color:#64748b;
  text-align:center;
}

.progress{
  height:10px;
  background:#e2e8f0;
  border-radius:999px;
  overflow:hidden;
  margin-top:10px;
}

.bar{
  height:100%;
  width:0%;
  background:#10b981;
}
</style>
</head>

<body>

<h1>Daily Command Center</h1>

<!-- HOME -->
<div id="home" class="card">
  <button onclick="openApp('leave')">ðŸ•’ Leave Time</button>
  <button class="secondary" onclick="openApp('grocery')">ðŸ›’ Grocery Wizard</button>
  <button class="secondary" onclick="openApp('money')">ðŸ’µ Money Snapshot</button>
</div>

<!-- LEAVE -->
<div id="leave" class="hidden">
<div class="card">
<label>Arrival time</label>
<input type="time" id="arrival">

<label>Drive time (minutes)</label>
<input type="number" id="drive">

<button onclick="calcLeave(false)">No Shower</button>
<button onclick="calcLeave(true)">Shower</button>

<div id="leaveOut" class="big"></div>
<div id="leaveOut2" class="tiny"></div>

<button class="secondary" onclick="goHome()">Back</button>
</div>
</div>

<!-- MONEY -->
<div id="money" class="hidden">
<div class="card">

<label>Current balance</label>
<input type="number" id="bal">

<label>Bills before payday</label>
<input type="number" id="bills">

<label>Safety buffer</label>
<input type="number" id="buffer">

<button onclick="calcMoney()">Calculate</button>

<div id="moneyOut" class="big"></div>
<div id="moneyOut2" class="tiny"></div>

<button class="secondary" onclick="goHome()">Back</button>
</div>
</div>

<!-- GROCERY -->
<div id="grocery" class="hidden">
<div class="card">

<div id="gwStep1">
<p>How many days?</p>
<button onclick="gwDays(3)">3</button>
<button onclick="gwDays(5)">5</button>
<button onclick="gwDays(7)">7</button>
</div>

<div id="gwStep2" class="hidden">
<p>Budget?</p>
<button onclick="gwBudget('tight')">Tight</button>
<button onclick="gwBudget('normal')">Normal</button>
<button onclick="gwBudget('flex')">Flexible</button>
</div>

<div id="gwDone" class="hidden">
<h3>Your List</h3>
<ul id="gwList"></ul>
<button onclick="gwRestart()">Restart</button>
</div>

<button class="secondary" onclick="goHome()">Back</button>

</div>
</div>

<script>
function openApp(id){
  home.classList.add("hidden");
  leave.classList.add("hidden");
  grocery.classList.add("hidden");
  money.classList.add("hidden");
  document.getElementById(id).classList.remove("hidden");
}

function goHome(){
  leave.classList.add("hidden");
  grocery.classList.add("hidden");
  money.classList.add("hidden");
  home.classList.remove("hidden");
}

/* LEAVE */
function t2m(t){let[a,b]=t.split(":");return a*60+ +b;}
function m2t(m){
  m=(m+1440)%1440;
  let h=Math.floor(m/60),mm=m%60,ap=h>=12?"PM":"AM";
  h=h%12||12;
  return `${h}:${mm.toString().padStart(2,"0")} ${ap}`;
}

function calcLeave(shower){
  let a=arrival.value;
  let d=+drive.value;
  if(!a||!d)return;

  let prep=shower?50:35;
  let arr=t2m(a);
  let leave=arr-d;
  let start=leave-prep;

  leaveOut.innerHTML=`Start: ${m2t(start)}<br>Leave: ${m2t(leave)}`;
  leaveOut2.textContent=`Prep ${prep}m + Drive ${d}m`;
}

/* MONEY */
function calcMoney(){
  let b=+bal.value||0;
  let due=+bills.value||0;
  let buf=+buffer.value||0;
  let safe=b-due-buf;
  moneyOut.textContent=`$${safe.toFixed(2)}`;
  moneyOut2.textContent="Safe to spend";
}

/* GROCERY */
const pool={
tight:["eggs","rice","beans","tuna"],
normal:["chicken","pasta","bread","fruit"],
flex:["steak","salmon","snacks","drinks"]
};

let gDays=0;

function gwDays(d){
  gDays=d;
  gwStep1.classList.add("hidden");
  gwStep2.classList.remove("hidden");
}

function gwBudget(b){
  gwStep2.classList.add("hidden");
  gwDone.classList.remove("hidden");

  let list=pool[b].slice();
  if(gDays>=5) list.push("vegetables");
  if(gDays>=7) list.push("milk");

  gwList.innerHTML="";
  list.forEach(i=>{
    let li=document.createElement("li");
    li.textContent=i;
    gwList.appendChild(li);
  });
}

function gwRestart(){
  gwDone.classList.add("hidden");
  gwStep1.classList.remove("hidden");
}
</script>

</body>
</html>
